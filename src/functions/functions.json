{
  "allowCustomDataForDataTypeAny": true,
  "functions": [
    {
      "description": "Complete the chat using a model",
      "id": "CHAT_COMPLETE",
      "name": "CHAT_COMPLETE",
      "parameters": [
        {
          "name": "messages",
          "description": "Either a single message (which will be used as the content of a user message and prefixed with a default system message) or a range of cells containing messages (the first column will be used as the role, the second column as the message and subsequent columns will be ignored).",
          "type": "string",
          "dimensionality": "matrix"
        },
        {
          "name": "params",
          "description": "The parameters for the model call. The first column is used as parameter keys and the second as values. Subsequent columns are ignored. If a key is repeated in later rows, the value given in the later row replaces the value given in the earlier row.",
          "type": "any",
          "dimensionality": "matrix"
        }
      ],
      "result": {
        "type": "any"
      }
    },
    {
      "description": "Extract the answer part from a Chain of Thought (CoT) completion",
      "id": "COT_ANSWER",
      "name": "COT_ANSWER",
      "parameters": [
        {
          "name": "completion",
          "description": "The completion to extract the answer from",
          "type": "any"
        },
        {
          "name": "separator",
          "description": "The separator that denotes the end of the CoT reasoning and the beginning of the answer. The default separator is <!-- END CoT -->. Your completion prompt must instruct the model to produce this separator, by using wording such as 'Then state \"<!-- END CoT -->\" followed by your answer.'.",
          "type": "string",
          "optional": true
        }
      ],
      "result": {
        "type": "string"
      }
    },
    {
      "description": "Calculate the cost of the completions in the given cells",
      "id": "COST",
      "name": "COST",
      "parameters": [
        {
          "name": "completions",
          "description": "A cell or range of cells containing chat completions.",
          "type": "any",
          "dimensionality": "matrix"
        },
        {
          "name": "prices",
          "description": "The prices per 1K tokens for each model. The first column is the canonical model name, the second is the input token price, and the third is the output token price.",
          "type": "any",
          "dimensionality": "matrix"
        }
      ],
      "result": {
        "type": "number"
      }
    }
  ]
}
